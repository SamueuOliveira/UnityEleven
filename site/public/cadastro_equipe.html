<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/cadastro_equipe.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@1,800&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Open+Sans:ital,wght@0,500;1,800&display=swap"
        rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@600&family=Lato&family=Open+Sans:ital,wght@0,500;1,800&display=swap"
        rel="stylesheet">

    <title>Document</title>
</head>

<body>
    <div class="header">
        <div class="container">
            <a class="logo_unity" href="index.html">Unity Eleven</a>

            <ul id="links_header">
                <li><a class="link_formatado" href="index.html">Home</a></li>
                <li><a class="link_formatado" href="">Contato</a></li>
                <li><a class="link_formatado" href="suporte.html">FAQ</a></li>
            </ul>

            <div id="botao_cadastro_login">
                <button><a class="botao_formatado" href="login.html">Login</a></button>
                <button><a class="botao_formatado" href="cadastro.html">Cadastrar Jogador</a></button>
            </div>
        </div>
    </div>

    <div class="banner">
        <div class="container">
            <div class="formulario">

                <img class="logo_campeonato" src="assets/logo_campeonato.png" alt="" />
                <!--IMAGEM LOGIN -->

                <h2>Cadastre sua Equipe!</h2>

                <span>Proprietário:</span>
                <input id="input_proprietario" />

                <span>Nome do Clube:</span>
                <input id="input_clube" />

                <span>Fundação do Clube:</span>
                <input id="input_fundacao" type="date" />


                <span>Plataforma:</span>
                <select name="" id="select_plataforma">
                    <option value="">Escolha sua Plataforma</option>
                    <option value="PC">PC</option>
                    <option value="Playstation 4">Playstation 4</option>
                    <option value="Playstation 5">Playstation 5</option>
                    <option value="Xbox One">Xbox One</option>
                    <option value="Xbox Series S/X">Xbox Series S/X</option>

                </select>


                <span>Escolha um estado:</span>
                <select id="select_estado_equipe" name="estados">
                    <option value="SP">São Paulo</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AP">Amapá</option>
                    <option value="AM">Amazonas</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">Ceará</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">Espírito Santo</option>
                    <option value="GO">Goiás</option>
                    <option value="MA">Maranhão</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="PA">Pará</option>
                    <option value="PB">Paraíba</option>
                    <option value="PR">Paraná</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">Piauí</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="RO">Rondônia</option>
                    <option value="RR">Roraima</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SE">Sergipe</option>
                    <option value="TO">Tocantins</option>
                </select>

                <span>E-mail:</span>
                <input id="input_email_equipe" />

                <span>Senha:</span>
                <input id="input_senha_equipe" type="password" placeholder="********" />

                <span>Confirmar Senha:</span>
                <input id="input_confirmar_senha_equipe" type="password" placeholder="********" />

                <span>Telefone:</span>
                <input id="input_telefone_equipe" />

                <span style="padding-bottom: 10px" id="span_confirmacao"></span>

                <button id="botao_cadastro" onclick="cadastrarEquipe()">Cadastrar</button>
                <div id="exibir_erro"></div>
            </div>

        </div>


    </div>

    <!--FOOTER-->

    <div id="rodape">
        <footer>
            <div class="container">
                <!--UL 1-->
                <ul>
                    <h3>Unity Eleven</h3>
                    <p>Onde a diversão e a comunidade se encontram crie frases parecidas.</p>
                    <div class="rede_sociais">

                        <a href="https://www.linkedin.com/in/samuel-oliveira-b8825228a/" target="_blank"><img
                                src="assets/logo-linkedin.png" alt="linkedin"></a>
                        <a href="https://github.com/SamueuOliveira/UnityEleven" target="_blank"><img
                                src="assets/logo-github.png" alt="github"></a>
                        <a href="https://www.ea.com/pt-br/games/ea-sports-fc/fc-24" target="_blank"><img
                                src="assets/logo-ea.png" alt="ea"></a>

                    </div>
                </ul>
                <!-- END UL 1-->
                <!--UL 2-->
                <ul>
                    <h3>Link</h3>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="https://www.google.com/search?q=ea+fc+24+&sca_esv=585073649&rlz=1C1JJTC_pt-PTBR1071BR1071&sxsrf=AM9HkKn57KhLLHcK9lOaOe_xb6v-e0m8_Q%3A1700839826501&ei=ksFgZeCLHtXR1sQP-fiqiA0&ved=0ahUKEwjgnLaN-tyCAxXVqJUCHXm8CtEQ4dUDCBA&uact=5&oq=ea+fc+24+&gs_lp=Egxnd3Mtd2l6LXNlcnAiCWVhIGZjIDI0IDIFEC4YgAQyBRAAGIAEMgUQLhiABDIFEAAYgAQyBRAAGIAEMgUQABiABDIFEAAYgAQyBRAAGIAEMgUQABiABDIFEAAYgAQyFBAuGIAEGJcFGNwEGN4EGOAE2AEBSMEvUJMGWNctcAJ4AZABAZgBqAGgAZAPqgEEMS4xNrgBA8gBAPgBAcICChAAGEcY1gQYsAPCAgcQIxiwAhgnwgIGEAAYBxgewgIGEAAYCBgewgILEAAYBxgeGA8Y8QTCAggQABgIGAcYHsICBhAAGBYYHuIDBBgAIEGIBgGQBgi6BgYIARABGBQ&sclient=gws-wiz-serp"
                            target="_blank">Preços</a></li>
                    <li><a href="https://www.ea.com/pt-br/games/ea-sports-fc/fc-24" target="_blank">FIFA</a></li>

                </ul> <!--END UL 2-->
                <!-- UL 3 -->
                <ul>
                    <h3>Suporte</h3>
                    <li><a href="suporte.html" target="_blank">FAQ</a></li>
                    <li><a href="https://brasil.un.org/pt-br/sdgs/8" target="_blank">ODS ONU</a></li>
                    <li><a href="noticias.html" target="_blank">Noticias</a></li>
                </ul> <!--END UL 3-->
                <!--UL 4-->
                <ul>
                    <h3>Nos Contacte</h3>
                    <li>
                        <p>+55 11 93410 1869</p>
                    </li>
                    <li>
                        <a href="https://mail.google.com/mail/u/0/?hl=pt-BR#inbox"
                            target="_blank">unity.eleven@sptech.school</a>
                    </li>
                    <li>
                        <p>Brasil</p>
                    </li>
                </ul> <!--END UL 4-->
            </div>
        </footer>
    </div>



</body>

</html>

<script>

    function cadastrarEquipe() {

        var ProprietarioVar = input_proprietario.value;
        var clubeVar = input_clube.value;
        var fundacaoVar = input_fundacao.value;
        var plataformaEquipeVar = select_plataforma_equipe.value;
        var estadoEquipeVar = select_estado_equipe.value;
        var emailEquipeVar = input_email_equipe.value.toLowerCase();
        var senhaEquipeVar = input_senha_equipe.value;
        var senhaConfirmarEquipeVar = input_confirmar_senha_equipe.value;
        var telefoneEquipeVar = input_telefone_equipe.value;


        // VALIDAÇÕES DO CADASTRO EQUIPE

        if (
            ProprietarioVar.trim() === "" ||
            clubeVar.trim() === "" ||
            estadoEquipeVar.trim() === "" ||
            emailEquipeVar.trim() === "" ||
            senhaEquipeVar.trim() === "" ||
            senhaConfirmarEquipeVar.trim() === "" ||
            telefoneEquipeVar.trim() === ""
        ) {
            exibir_erro.innerHTML = `<p style="color: red; font-weight: bold;">Preencha todos os campos!</p>`;

        }

        else if (emailEquipeVar.indexOf("@") == -1) {
        exibir_erro.innerHTML = `<p style="color: red; font-weight: bold;">Ops, e-mail inválido! Verifique e tente novamente.</p>`;
           
       }

        else if (senhaEquipeVar.length < 8 || senhaConfirmarEquipeVar.length < 8) {
            exibir_erro.innerHTML = `<p style="color: red; font-weight: bold;">Senha tem que conter no mínimo 8</p>`;
        }

        else if (senhaEquipeVar != senhaConfirmarEquipeVar) {
            exibir_erro.innerHTML = `<p style="color: red; font-weight: bold;">Senhas Diferentes!</p>`;
        }

        else if (plataformaEquipeVar.trim() === '') {
            exibir_erro.innerHTML = `<p style="color: red; font-weight: bold;">Escolha a sua Plataforma!</p>`;
        }

        else if (fundacaoVar.trim() === '') {
            exibir_erro.innerHTML = `<p style="color: red; font-weight: bold;">Digite a data de Fundação do clube!</p>`;
        }


        else {


            fetch("/clube/cadastrarEquipe", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    proprietarioServer: ProprietarioVar,
                    clubeServer: clubeVar,
                    fundacaoServer: fundacaoVar,
                    plataformaEquipeServer: plataformaEquipeVar,
                    estadoEquipeServer: estadoEquipeVar,
                    emailEquipeServer: emailEquipeVar,
                    senhaEquipeServer: senhaEquipeVar,
                    telefoneEquipeServer: telefoneEquipeVar
                })
            }).then(function (resposta) {

                console.log("resposta: ", resposta);

                if (resposta.ok) {

                    exibir_erro.innerHTML = `<img style="width: 30px;" src="assets/gif_carregamento.gif" alt="">`
                    setTimeout(function () {
                       
                        window.location = "login.html";
                    }, 3000);  // O valor 2000 representa um atraso de 2 segundos (em milissegundos)
                }

                else {
                    alert(`Erro ao cadastrarEquipe`)
                    throw ("Houve um erro ao tentar realizar o cadastro!");
                }

            }).catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);

            });

            return false;
        }
    }


</script>